{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/PopupWithForm.js","components/PopupWithImage.js","components/Main.js","components/Footer.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/icons/header-logo.svg"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwned","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","key","style","backgroundImage","link","onClick","onCardClick","aria-label","onCardDelete","name","onCardLike","PopupWithForm","isOpen","type","onClose","title","id","action","noValidate","onSubmit","children","PopupWithImage","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","onCloseButtons","value","selectedCard","Footer","api","options","this","baseUrl","headers","fetch","then","res","ok","json","method","body","JSON","stringify","cardId","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","required","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","ref","AddPlacePopup","setTitle","setLink","onAddNewCard","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","setSelectedCard","setCurrentUser","closeAllPopups","getUserInfo","data","catch","err","console","log","getCardList","Provider","setAvatar","current","setUserInfo","addNewCard","newCard","updateLikes","newCards","c","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.24f58162.chunk.js","sourcesContent":["import React from 'react';\nimport headerLogo from '../images/icons/header-logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={headerLogo}\n        alt=\"Around the U.S. Logo\"\n      />\n    </header>\n  )\n}\n\nexport default Header; ","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwned = currentUser && (props.card.owner._id === currentUser._id);\n  const cardDeleteButtonClassName = (\n    `place__delete-btn ${!isOwned && 'place__delete-btn_hidden'}`\n  );\n\n  const isLiked = currentUser && props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `place__like-btn ${isLiked && 'place__like-btn_clicked'}`;\n\n  return (\n    <li key={props.card._id} className=\"place\">\n      <div\n        className=\"place__image\"\n        style={{ backgroundImage: `url(${props.card.link})` }}\n        onClick={() => {\n          props.onCardClick(props.card);\n        }}\n      ></div>\n      <button\n        className={cardDeleteButtonClassName}\n        aria-label=\"delete-card\"\n        onClick={() => {\n          props.onCardDelete(props.card);\n        }}\n      ></button>\n      <div className=\"place__footer\">\n        <h2 className=\"place__name\">{props.card.name}</h2>\n        <div className=\"place__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            aria-label=\"like-or-unlike-card\"\n            onClick={() => {\n              props.onCardLike(props.card);\n            }}\n          ></button>\n          <p className=\"place__like-counter\"></p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\n  return (\n    <>\n      <div\n        className={\n          \"popup__overlay\" + (props.isOpen ? ' popup__overlay_visible' : '')\n        }\n      ></div>\n      <div\n        className={\n          `popup__container popup__container_type_${props.name}` +\n          (props.isOpen ? \" popup__container_visible\" : \"\")\n        }\n      >\n        <button\n          className=\"button button_action_close\"\n          type=\"reset\"\n          aria-label={`close-${props.name}-modal`}\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          id={`${props.name}-form`}\n          name={`${props.name}Form`}\n          className=\"popup__form\"\n          action=\"#\"\n          noValidate\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction PopupWithImage(props) {\n  return (\n    <>\n      <div\n        className={\n          \"popup__overlay\" + (props.card ? \" popup__overlay_visible\" : \"\")\n        }\n      ></div>\n      <figure\n        className={\n          \"popup__image-container popup__container_type_image\" +\n          (props.card ? \" popup__image-container_visible\" : \"\")\n        }\n      >\n        <button\n          className=\"button button_action_close\"\n          type=\"reset\"\n          aria-label=\"close-image-popup\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? props.card.title : \"\"}\n          className=\"popup__image\"\n        />\n        <figcaption className=\"popup__image-caption\">\n          {props.card ? props.card.title : \"\"}\n        </figcaption>\n      </figure>\n    </>\n  );\n}\n\nexport default PopupWithImage;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport PopupWithImage from \"./PopupWithImage\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div>\n          <img\n            src={currentUser && currentUser.avatar}\n            alt=\"Avatar\"\n            className=\"profile__image\"\n            onClick={props.onEditAvatar}\n          />\n          <button\n            className=\"button button_action_change-avatar\"\n            aria-label=\"open-change-avatar-modal\"\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h2 className=\"profile__name\">{currentUser && currentUser.name}</h2>\n            <p className=\"profile__job\">{currentUser && currentUser.about}</p>\n          </div>\n          <button\n            className=\"button button_action_edit\"\n            aria-label=\"open-edit-profile-modal\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"button button_action_add\"\n          aria-label=\"open-new-card-modal\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n      <div className=\"places\">\n        <ul className=\"places__grid\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </div>\n\n      <PopupWithForm\n        name=\"delete\"\n        title=\"Are you sure?\"\n        isOpen={false}\n        onClose={props.onCloseButtons}\n      >\n        <button\n          className=\"button button_action_submit\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"confirm-delete-card\"\n        >\n          Yes\n        </button>\n      </PopupWithForm>\n\n      <PopupWithImage\n        onClose={props.onCloseButtons}\n        card={props.selectedCard}\n      />\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Around The U.S.</p>\n    </footer>\n  )\n}\n\nexport default Footer;","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getCardList() {\n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  getUserInfo() {\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  setAvatar(link) {\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  addNewCard({ title, link }) {\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: title,\n        link,\n      }),\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(this.baseUrl + `/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    });\n  }\n\n  updateLikes(cardId, isLiked) {  \n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    return fetch(\n      this.baseUrl + `/cards/likes/${cardId}`,\n      {\n        method: method,\n        headers: this.headers,\n      }\n    ).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-2\",\n  headers: {\n    authorization: \"dc340326-95ec-4474-9060-e6102316f742\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n\n  React.useEffect(() => {\n    setName(currentUser && currentUser.name);\n    setDescription(currentUser && currentUser.about);\n  }, [currentUser]);\n\n\n  function handleNameChange(e) {\n    setName(e.target.value)\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  \n  return (\n\n    <PopupWithForm\n        name=\"edit\"\n        title=\"Edit profile\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          placeholder=\"Name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name || ''}\n          onChange={handleNameChange}\n        />\n        <span className=\"popup__input-error\" id=\"name-input-error\"></span>\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          id=\"job\"\n          name=\"job\"\n          placeholder=\"About me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={description || ''}\n          onChange={handleDescriptionChange}\n        />\n        <span className=\"popup__input-error\" id=\"job-input-error\"></span>\n        <button\n          className=\"button button_action_submit button_inactive\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"submit-edit-profile\"\n        >\n          Save\n        </button>\n      </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef\n    });\n  }\n\n  return (\n    \n    <PopupWithForm\n        name=\"avatar\"\n        title=\"Change profile picture\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          className=\"popup__input\"\n          type=\"url\"\n          id=\"avatar\"\n          name=\"avatar\"\n          placeholder=\"Enter link to image\"\n          minLength=\"2\"\n          required\n          ref={avatarRef}\n        />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\"></span>\n\n        <button\n          className=\"button button_action_submit button_inactive\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"submit-change-avatar\"\n        >\n          Save\n        </button>\n      </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddNewCard({ title, link })\n  }\n\n  return (\n\n    <PopupWithForm\n      name=\"add\"\n      title=\"New place\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input\"\n        type=\"text\"\n        id=\"title\"\n        name=\"title\"\n        placeholder=\"Title\"\n        minLength=\"1\"\n        maxLength=\"30\"\n        required\n        onChange={handleTitleChange}\n      />\n      <span className=\"popup__input-error\" id=\"title-input-error\"></span>\n      <input\n        className=\"popup__input\"\n        type=\"url\"\n        id=\"link\"\n        name=\"link\"\n        placeholder=\"Image link\"\n        required\n        onChange={handleLinkChange}\n      />\n      <span className=\"popup__input-error\" id=\"imageUrl-input-error\"></span>\n      <button\n        className=\"button button_action_submit button_inactive\"\n        type=\"submit\"\n        value=\"Create\"\n        aria-label=\"submit-new-card-modal\"\n      >\n        Create\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport api from \"../utils/Api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App(props) {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.updateLikes(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n      setCards(newCards);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.setUserInfo({ name, about }).then((data) => {\n      setCurrentUser(data);\n    });\n    closeAllPopups();\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.setAvatar(avatar.current.value).then((data) => {\n      setCurrentUser(data);\n    });\n    closeAllPopups();\n  }\n\n  function handleAddNewCard({ title, link }) {\n    api.addNewCard({ title, link }).then((newCard) => {\n      setCards([...cards, newCard]);\n    });\n    closeAllPopups();\n  }\n\n  React.useEffect(() => {\n    setCards(cards);\n  }, [cards])\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getCardList()\n      .then((data) => {\n        setCards((cards) => [...cards, ...data]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddNewCard={handleAddNewCard}\n        />\n        <Main\n          onCloseButtons={closeAllPopups}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          isAddPlacePopupOpen={isAddPlacePopupOpen}\n          isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n          cards={cards}\n          selectedCard={selectedCard}\n        />\n        <Footer />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.71ad3aff.svg\";"],"sourceRoot":""}